# MovieRating

### Описание 

Мы создали проект, который представляет собой систему рекомендаций фильмов, которая основана на анализе предпочтений пользователя и на обработке отзывов с использованием машинного обучения.  
Проект включает:
*	Веб-интерфейс
*	Систему сбора и обработки данных о фильмах
*	Модели анализа тональности отзывов
*	Алгоритм персонализированных рекомендаций


### Ключевые особенности пректа
*	Подбор фильмов по 5 критериям (юмор, сюжет, кинематографичность, актерская игра, звуковой дизайн)
*	Фильтрация (жанр, тип контента, возрастное ограничение)
*	API Кинопоиска для сбора данных
*	Обученные NLP-модели для анализа отзывов


### Технологический стек
__Основные компоненты:__
*	Backend: Python 3.8, Flask 2.0.2
*	Frontend: HTML5, CSS3, JavaScript
*	База данных: SQLite 3
*	ML-библиотеки: Transformers 4.12.5, PyTorch 1.9.0


__Зависимости:__
``` 
Flask==2.0.2
transformers==4.12.5
torch==1.9.0
pandas==1.3.3
numpy==1.21.2
requests==2.26.0
nltk==3.6.3
scikit-learn==0.24.2
sentencepiece==0.1.96
tqdm==4.62.3
python-dotenv==0.19.2
```
### Установка и запуск
__Требования к системе:__
*	ОС: Windows 10/11, macOS 12+
*	Память: 4 ГБ ОЗУ (8 ГБ)
*	Диск: 2 ГБ свободного места
  
__Инструкция по установке__
1.	Клонировать репозиторий:
``` bash 
git clone https://github.com/lianapestereva/MovieRating
```
2.	Установить зависимости:
``` bash
pip install -r requirements.txt
```
3.	Запустить приложение:
``` bash
python app.py
```
4.	Открыть в браузере:
``` bash
http://localhost:5000
```

### Структура проекта
__Основные модули:__

```app.py```: 
Главный скрипт Flask-приложения, обрабатывающий:
*	Маршруты веб-интерфейса
*	Запросы от клиента
*	Формирование рекомендаций
*	Взаимодействие с БД

```src/absa.py```: 
Модуль анализа тональности отзывов, содержащий:
*	Функцию детекции аспектов (predict_aspects)
*	Функцию определения тональности (predict_aspect_sentiment)
*	Основную функцию анализа отзыва (analyze_review)

```src/kinopoisk_scraping.py```: 
Скрипт для сбора данных с API Кинопоиска:
*	Получение информации о фильмах
*	Сбор отзывов
*	Сохранение данных в SQLite

```src/film_processing.py```: 
Обработка фильмов и анализ отзывов:
* Пакетная обработка всех фильмов в БД
*	Расчет средних оценок по аспектам
*	Сохранение результатов анализа

### Формат данных
Таблица films в БД содержит:
*	ID фильма
*	Название
*	Рейтинг Кинопоиска
*	Является ли сериалом (0/1)
*	Жанры (JSON-строка)
*	Отзывы (JSON-строка)
*	Возрастной рейтинг
*	Продолжительность
*	Год выпуска

### Авторы
*	Пестерева Лиана, Друкман Алиса, Калягина Анна
*	Контактный email (Директор): lspestereva@edu.hse.ru
